import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'
import Step from '@site/src/components/Step/Step'
import Highlight from '@site/src/components/Highlight/Highlight'
import ChooseClusterNameFragment from './name.mdx'
import CreateClusterFragment from './create-cluster.mdx'

To manage the cluster where loft is running in (loft cluster) using loft, you need to connect it. You can skip this step if you only want to [connect other clusters](#connect-other-clusters) instead. However, it is often useful to connect the loft cluster to manage this cluster using loft although you may not want to make it available to the rest of your team.

<Tabs
  defaultValue="ui"
  values={[
    { label: 'UI', value: 'ui', },
    { label: 'kubectl', value: 'kubectl', },
  ]
}>
<TabItem value="ui">

In the loft UI, navigate to "Clusters" and click the <Highlight>Connect Cluster</Highlight> button.

<figure class="frame">
  <video controls loop autoplay="true" muted>
    <source src="/docs/media/ui/clusters/connect-cluster-loft.mp4" type="video/mp4" />
  </video>
  <figcaption>loft UI - Connect Loft Cluster</figcaption>
</figure>

<Step>1</Step>

#### Define Cluster Name

<ChooseClusterNameFragment/>

<br/>
<Step>2</Step>

#### Connect loft cluster
Because loft already has access to the cluster it is running inside, you will see a special button <Highlight>Connect loft cluster</Highlight> which will let you connect the management cluster with a single click.

</TabItem>

<TabItem value="kubectl">

loft is designed as a Kubernetes extension and provides Custom Resource Definitions for everything, so you can also connect a cluster using `kubectl`. The UI of loft also uses kubectl under the hood, not just to connect clusters but also for anything else you can configure with the UI.

<Step>1</Step>

#### Create File: cluster.yaml

```yaml {7}
apiVersion: management.loft.sh/v1
kind: Cluster
metadata:
  name: loft-cluster
spec:
  config: {}
  local: true
```

<br />
<Step>2</Step>

#### Create Cluster Object

<CreateClusterFragment/>

</TabItem>
</Tabs>
