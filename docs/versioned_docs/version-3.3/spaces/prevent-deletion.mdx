---
title: Prevent Deletion
sidebar_label: Prevent Deletion
---

import Button from "@site/src/components/Button";
import Expander from "@site/src/components/Expander";
import Label from "@site/src/components/Label";
import Flow, { Step } from "@site/src/components/Flow";
import NavStep from "@site/src/components/NavStep";
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

One can prevent space deletion by following one of the two methods:

<Tabs
  defaultValue="ui"
  values={[
    { label: "Within the UI", value: "ui" },
    { label: "Within the YAML manifest", value: "yaml" },
  ]}
>
<TabItem value="yaml">
  You can prevent space deletion, by setting the annotation "loft.sh/non-deletable" to "true" in the YAML manifest of the space instance.

```yaml {6}
apiVersion: management.loft.sh/v1
kind: SpaceInstance
metadata:
  name: my-space
  annotations:
    loft.sh/non-deletable: "true"
spec:
  templateRef:
    name: isolated-space
  clusterRef:
    cluster: loft-cluster
```

</TabItem>

<TabItem value="ui">

<Flow id="space-prevent-deletion-ui">
<Step>
  Navigate to the <NavStep>Projects</NavStep> section using the menu on the left.
</Step>

<Step>
  Select the project and then the space you want to prevent deletion for.
</Step>

<Step>
  Either click on the <Button>Create Space</Button> button or select the
  dropdown next to an existing space and select the <Label>Edit</Label> option.
</Step>

<Step>
  Navigate to the <Label>Advanced Options</Label> on the left.
</Step>

<Step>
  Select the <Expander>Prevent Deletion</Expander> expander and tick the "enable
  deletion prevention" checkbox.
</Step>

<Step>
  Click on the <Button>Save Changes</Button> button to save the changes or the{" "}
  <Button>Create Space</Button> button, when creating a new space.
</Step>

</Flow>
</TabItem>

</Tabs>

:::note
If you want to delete this space in the future, you need to remove the label either in the YAML manifest or through the toggle in the UI.
Once you have done this, you can delete the space as usual.
:::
