---
title: Prevent Deletion
sidebar_label: Prevent Deletion
---

import Button from "@site/src/components/Button";
import Expander from "@site/src/components/Expander";
import Label from "@site/src/components/Label";
import Flow, { Step } from "@site/src/components/Flow";
import NavStep from "@site/src/components/NavStep";
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

One can prevent space deletion by following one of the two methods:

<Tabs
  defaultValue="ui"
  values={[
    { label: "Within the UI", value: "ui" },
    { label: "Within the YAML manifest", value: "yaml" },
  ]}
>
<TabItem value="yaml">
  You can prevent space deletion, by setting the annotation "loft.sh/non-deletable" to "true" in the YAML manifest of the space instance.

```yaml {6}
apiVersion: management.loft.sh/v1
kind: VirtualClusterInstance
metadata:
  name: my-vcluster
  annotations:
    loft.sh/non-deletable: "true"
spec:
  templateRef:
    name: isolated-vcluster
  clusterRef:
    cluster: loft-cluster
```

</TabItem>

<TabItem value="ui">

<Flow id="vcluster-prevent-deletion-ui">
<Step>
  Navigate to the <NavStep>Projects</NavStep> section using the menu on the left.
</Step>

<Step>
  Select the project and then the vcluster you want to prevent deletion for.
</Step>

<Step>
  Either click on the <Button>Create Virtual Cluster</Button> button or select
  the dropdown next to an existing virtual cluster and select the{" "}
  <Label>Edit</Label> option.
</Step>

<Step>
  Navigate to the <Label>Advanced Options</Label> on the left.
</Step>

<Step>
  Select the <Expander>Prevent Deletion</Expander> expander and tick the "enable
  deletion prevention" checkbox.
</Step>

<Step>
  Click on the <Button>Save Changes</Button> button to save the changes or the{" "}
  <Button>Create Virtual Cluster</Button> button, when creating a new virtual
  cluster.
</Step>

</Flow>
</TabItem>

</Tabs>

:::note
If you want to delete this virtual cluster in the future, you need to remove the label either in the YAML manifest or through the toggle in the UI.
Once you have done this, you can delete the virtual cluster as usual.
:::
