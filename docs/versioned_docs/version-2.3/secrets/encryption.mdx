---
title: Secrets Encryption
sidebar_label: Encryption
---

import Flow, { Step } from '@site/src/components/Flow'
import PartialAdminSetVersion from '../admin/_partials/set-version.mdx'
import PartialAdminUpgrade from '../admin/_partials/upgrade.mdx'

By default, secrets are **not** encrypted and stored plain text (base64 encoded) in the underlying custom resource. You can configure Loft to encrypt the data of shared secrets by specifying an encryption key:

<Flow id="secret-encryption-enable">
  <Step>

Make sure you have a valid Loft Enterprise subscription.

  </Step>
  <Step>

Edit your existing `loft.yaml` file or create a new file named `loft.yaml` with content:
```yaml
env:
  SECRETS_ENCRYPTION_KEY: "YOUR_ENCRYPTION_SECRET_KEY"
```

  </Step>
  <Step>
    <PartialAdminSetVersion/>
  </Step>
  <Step>
    <PartialAdminUpgrade/>
  </Step>
</Flow>

:::warning Loss of Encryption Key
If you lose the encryption key, the secrets data cannot be recovered. You will have to manually delete all shared secrets via kubectl: `kubectl delete sharedsecrets.storage.loft.sh -n loft --all`
:::
